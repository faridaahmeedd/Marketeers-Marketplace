@using ArtPlatform.ViewModels
@model List<TalentVM>
@using Microsoft.AspNetCore.Mvc.Rendering

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <title>Material Design for Bootstrap</title>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css" />
    <!-- Google Fonts Roboto -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" />
    <!-- MDB -->
    <link rel="stylesheet" href="./css/mdb.min.css" />
</head>
<body>
 <!--Main layout-->
 <main class="my-5">
    <div class="container">
      <!--Section: Content-->
      <section class="text-center">
        <h4 class="mb-5"><strong>Featured Talents</strong></h4>
                <div class="d-flex justify-content-center mb-4">
                    <form method="get" asp-action="DisplayTalents" asp-controller="Talent" class="w-auto">
                        <label for="categoryFilter" class="form-label">Filter by category:</label>
                        <select id="categoryFilter" name="selectedCategory" class="form-select" asp-items="ViewBag.Categories" style="width: 250px;">
                            <option value="">--Select Category--</option>
                        </select>
                        <button type="submit" class="btn btn-primary mt-2">Filter</button>
                    </form>
                </div>

        <!-- Talents Section -->
        <div class="row">
            @for (int i = 0; i < Model.Count && i < 6; i++) {
                <div class="col-lg-4 col-md-6 mb-4">
                    <div class="card">
                        <div class="bg-image hover-overlay" data-mdb-ripple-init data-mdb-ripple-color="light">
                            <img src="https://mdbootstrap.com/img/new/standard/nature/184.jpg" class="img-fluid" />
                            <a href="#!">
                                <div class="mask" style="background-color: rgba(251, 251, 251, 0.15);"></div>
                            </a>
                        </div>
                        <div class="card-body">
                            <h5 class="card-title">@Model[i].Name</h5>
                            <p class="card-text">
                                @Model[i].Bio
                            </p>
                            <a href="#!" class="btn btn-primary">@Model[i].CategoryName</a>
                        </div>
                    </div>
                </div>
            }
        </div>
        <!-- End Talents Section -->
        
      </section>
            <nav class="my-4" aria-label="...">
                <ul class="pagination pagination-circle justify-content-center">
                    @if (ViewBag.CurrentPage > 1)
                    {
                        <li class="page-item">
                            <a class="page-link" href="@Url.Action("DisplayTalents", "Talent", new { page = ViewBag.CurrentPage - 1 })" tabindex="-1">Previous</a>
                        </li>
                    }
                    else
                    {
                        <li class="page-item disabled">
                            <a class="page-link" href="#" tabindex="-1" aria-disabled="true">Previous</a>
                        </li>
                    }

                    @for (int i = 1; i <= ViewBag.TotalPages; i++)
                    {
                        if (i == ViewBag.CurrentPage)
                        {
                            <li class="page-item active" aria-current="page">
                                <a class="page-link" href="#">@i <span class="sr-only">(current)</span></a>
                            </li>
                        }
                        else
                        {
                            <li class="page-item">
                                <a class="page-link" href="@Url.Action("DisplayTalents", "Talent", new { page = i })">@i</a>
                            </li>
                        }
                    }

                    @if (ViewBag.CurrentPage < ViewBag.TotalPages)
                    {
                        <li class="page-item">
                            <a class="page-link" href="@Url.Action("DisplayTalents", "Talent", new { page = ViewBag.CurrentPage + 1 })">Next</a>
                        </li>
                    }
                    else
                    {
                        <li class="page-item disabled">
                            <a class="page-link" href="#" tabindex="-1" aria-disabled="true">Next</a>
                        </li>
                    }
                </ul>
            </nav>

    </div>
  </main>
    <!-- Bootstrap core JS-->
    <script type="text/javascript" src="./js/mdb.umd.min.js"></script>
</body> 
</html>
